<!-- templates/detail.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Event Detail</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    body {
      background-color: #f9f9f9;
    }
    .meta-table td {
      padding: 6px 12px;
    }
    .video-container {
      margin-top: 20px;
      text-align: center;
    }
    .video-container video {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>
<body>
  <div class="container py-5">
    <h3 class="mb-4 text-center">📋 事件詳情</h3>

    <table class="table table-bordered meta-table">
      <tbody>
        <tr>
          <td><strong>時間</strong></td>
          <td>{{ event.timestamp }}</td>
        </tr>
        <tr>
          <td><strong>物件類型</strong></td>
          <td>{{ event.object_type }}</td>
        </tr>
        <tr>
          <td><strong>來源鏡頭</strong></td>
          <td>{{ event.location }}</td>
        </tr>
        <tr>
          <td><strong>事件類別</strong></td>
          <td>{{ event.event_type }}</td>
        </tr>
        <tr>
          <td><strong>設備編號</strong></td>
          <td>{{ event.device_serial }}</td>
        </tr>
      </tbody>
    </table>

    {% if event.video_path %}
    <div class="video-container">
      <h5>🎥 事件影片</h5>
      <video controls>
        <source src="{{ url_for('serve_event_file', folder=event.folder, filename='clip.mp4') }}" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>
    {% endif %}

    <div class="mt-4 text-center">
      <a href="{{ url_for('index') }}" class="btn btn-secondary">返回列表</a>
    </div>
  </div>
</body>
</html>
